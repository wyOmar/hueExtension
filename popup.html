<!DOCTYPE html>
<html data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <title>Light Control</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <div class="popup-root">
      <header class="popup-header">
        <h1 class="popup-title"></h1>
        <!-- Optional theme toggle -->
        <!-- <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">â˜¾</button> -->
      </header>

      <nav class="tabs" role="tablist">
        <button
          class="tab active"
          data-tab="basic"
          role="tab"
          aria-selected="true"
        >
          Basic
        </button>
        <button class="tab" data-tab="color" role="tab" aria-selected="false">
          Color
        </button>
        <button
          class="tab"
          data-tab="effects"
          role="tab"
          aria-selected="false"
        >
          Effects
        </button>
      </nav>

      <main class="tab-panels">
        <!-- BASIC TAB -->
        <section
          class="tab-panel active"
          data-tab-panel="basic"
          role="tabpanel"
        >
          <div class="card">
            <label for="light-select" class="field-label"></label>
            <div class="select-row">
              <span class="select-icon" aria-hidden="true">ðŸ’¡</span>
              <select id="light-select"></select>
            </div>
          </div>

          <div class="card">
            <button id="light-onoff" class="btn-primary">Loading...</button>

            <div class="field">
              <div class="field-header">
                <label for="brightness-slider" class="field-label">
                  
                </label>
                <span
                  
                  class="inline-value"
                ></span>
              </div>
              <input
                id="brightness-slider"
                type="range"
                min="1"
                max="254"
                step="1"
                value="254"
              />
            </div>
          </div>
        </section>

        <!-- COLOR TAB -->
        <section class="tab-panel" data-tab-panel="color" role="tabpanel">
          <div class="card card-color">
            <div class="field-header card-color-header">
              
            </div>

            <!-- ONE unified presets grid -->
            <div class="pill-buttons pill-grid" id="color-presets">
              <!-- Whites first (still use CT in JS) -->
              <button data-ct="500" title="Warm White">Warm</button>
              <button data-ct="370" title="Neutral White">Neutral</button>
              <button data-ct="250" title="Cool White">Cool</button>

              <!-- Hue colors (HS) -->
              <button data-hue="0" data-color="#ff0000" title="Red">
                Red
              </button>
              <button
                data-hue="8000"
                data-color="#ff7f00"
                title="Orange"
              >
                Orange
              </button>
              <button
                data-hue="16000"
                data-color="#ffff00"
                title="Yellow"
              >
                Yellow
              </button>
              <button
                data-hue="25500"
                data-color="#00ff00"
                title="Green"
              >
                Green
              </button>
              <button
                data-hue="35000"
                data-color="#00ffff"
                title="Cyan"
              >
                Cyan
              </button>
              <button
                data-hue="45000"
                data-color="#0000ff"
                title="Blue"
              >
                Blue
              </button>
              <button
                data-hue="50000"
                data-color="#4b0082"
                title="Indigo"
              >
                Indigo
              </button>
              <button
                data-hue="56000"
                data-color="#8b00ff"
                title="Violet"
              >
                Violet
              </button>
              <button
                data-hue="65000"
                data-color="#ff0040"
                title="Near Red"
              >
                Near Red
              </button>
            </div>
          </div>
        </section>

        <!-- EFFECTS TAB -->
        <section class="tab-panel" data-tab-panel="effects" role="tabpanel">
          <div class="card">
            <div class="field">

              <select id="function-select"></select>
            </div>
            <button id="function-toggle" class="btn-secondary">
              No function selected
            </button>
          </div>
        </section>
      </main>

      <footer id="status-bar">
        <span id="status">Loading lights...</span>
      </footer>
    </div>

    <script src="popup.js" type="module"></script>
  </body>
</html>